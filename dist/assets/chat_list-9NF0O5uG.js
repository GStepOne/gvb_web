import{G}from"./gvb_chat_group-BYk0GeJW.js";import{G as B}from"./gvb_title-Om6kBnCp.js";import{d as g,k as V,r as I,a as d,o as u,c as w,b as o,g as b,f as N,w as t,j as n,q as $,as as j,M as f,ar as A}from"./index-D8gmBzh4.js";import{_ as x}from"./_plugin-vue_export-helper-DlAUqK2U.js";import"./date-B9d_EV3y.js";import"./MdEditor-ro--MMAW.js";import"./MdCatalog-f-q-2nMO.js";import"./image_api-BtMspoFT.js";import"./index-BUns8YUt.js";import"./index-CNaldku0.js";const J={class:"chat_group_config_view"},M={class:"chat_group"},q=g({__name:"chat_group_config",props:{config:{}},emits:["getConfig"],setup(c,{emit:m}){const e=c,i=V({is_anonymous:!0,is_show_time:!1,default_limit:50,welcome_title:"Jack 聊天室22",is_online_people:!1,is_send_image:!1,is_send_file:!1,is_paste:!1,is_markdown:!1,content_length:100}),p=I(!0),v=m;async function k(){let r=await j("chat_group",e.config);if(r.code){f.error(r.msg);return}f.success(r.msg),console.log("通知父类config了"),v("getConfig")}return(r,l)=>{const _=d("a-switch"),s=d("a-form-item"),h=d("a-input-number"),y=d("a-input"),C=d("a-form"),U=d("a-button");return u(),w("div",J,[o(B,{title:"群聊设置"}),b("div",M,[p.value?(u(),N(C,{key:0,model:i,"label-col-props":{span:7},"wrapper-col-props":{span:16}},{default:t(()=>[o(s,{label:"匿名群聊"},{extra:t(()=>[n(" 开启后用户不登录也能聊天 ")]),default:t(()=>[o(_,{modelValue:e.config.is_anonymous,"onUpdate:modelValue":l[0]||(l[0]=a=>e.config.is_anonymous=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"显示时间"},{extra:t(()=>[n(" 悬浮消息，显示时间 ")]),default:t(()=>[o(_,{modelValue:e.config.is_show_time,"onUpdate:modelValue":l[1]||(l[1]=a=>e.config.is_show_time=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"初始条数"},{extra:t(()=>[n(" 进入聊天室时显示消息的条数 ")]),default:t(()=>[o(h,{modelValue:e.config.default_limit,"onUpdate:modelValue":l[2]||(l[2]=a=>e.config.default_limit=a),placeholder:"初始条数50"},null,8,["modelValue"])]),_:1}),o(s,{label:"欢迎语"},{extra:t(()=>[n(" 聊天头部显示的文字 ")]),default:t(()=>[o(y,{placeholder:"欢迎语",modelValue:e.config.welcome_title,"onUpdate:modelValue":l[3]||(l[3]=a=>e.config.welcome_title=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"可发图片"},{extra:t(()=>[n(" 配置后可以发送图片 ")]),default:t(()=>[o(_,{modelValue:e.config.is_send_image,"onUpdate:modelValue":l[4]||(l[4]=a=>e.config.is_send_image=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"可发文件"},{extra:t(()=>[n(" 配置后可以发送文件 ")]),default:t(()=>[o(_,{modelValue:e.config.is_send_file,"onUpdate:modelValue":l[5]||(l[5]=a=>e.config.is_send_file=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"粘贴上传"},{extra:t(()=>[n(" 配置后可以粘贴上传图片 ")]),default:t(()=>[o(_,{modelValue:e.config.is_paste,"onUpdate:modelValue":l[6]||(l[6]=a=>e.config.is_paste=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"支持md"},{extra:t(()=>[n(" 配置后输入框为markdown格式 ")]),default:t(()=>[o(_,{modelValue:e.config.is_markdown,"onUpdate:modelValue":l[7]||(l[7]=a=>e.config.is_markdown=a)},null,8,["modelValue"])]),_:1}),o(s,{label:"文本长度"},{extra:t(()=>[n(" 配置内容最大长度 ")]),default:t(()=>[o(_,{modelValue:e.config.content_length,"onUpdate:modelValue":l[8]||(l[8]=a=>e.config.content_length=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"])):$("",!0),o(U,{type:"primary",onClick:k},{default:t(()=>[n("更新配置")]),_:1})])])}}}),E=x(q,[["__scopeId","data-v-1a0f4b81"]]),O={class:"chat_list_view"},T={class:"config"},z=g({__name:"chat_list",props:{config:{}},setup(c){const m=V({is_anonymous:!0,is_show_time:!1,default_limit:50,welcome_title:"Jack 聊天室",is_online_people:!1,is_send_image:!1,is_paste:!1,is_send_file:!1,is_markdown:!1,content_length:100});async function e(){let i=await A("chat_group");if(console.log("data",typeof i.data),i.code){f.error(i.msg);return}Object.assign(m,i.data),console.log("now",m)}return e(),(i,p)=>(u(),w("div",O,[o(G,{class:"record_list_view",config:m},null,8,["config"]),b("div",T,[o(E,{config:m,onGetConfig:e},null,8,["config"])])]))}}),X=x(z,[["__scopeId","data-v-0a076ec7"]]);export{X as default};

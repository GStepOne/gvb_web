import{_ as u}from"./gvb_login_form.vue_vue_type_style_index_0_lang-OnAOwvJv.js";import{d,u as _,o as l,c as m,g as p,b as f,h as g,s as h,M as o,Q as k,m as t}from"./index-D8gmBzh4.js";import"./index-BWnIsOhe.js";import"./index-BABGsYZk.js";const b={class:"gvb_login"},q={class:"gvb_login_mask"},M=d({__name:"index",setup(w){const a=_(),n=h(),r=window.history.state.back;async function c(e){if(e.code===void 0||e.flag!=="qq"){o.warning("非法的登录方式");return}let s=await k(e.code);if(s.code){o.error(s.msg);return}o.success(s.msg),a.setToken(s.data),t.push("/nana")}c(n.query);function i(){let e=window.history.state.back;if(console.log("这个是ok的值",e),e===null){t.push({name:"index"});return}t.push(e)}return(e,s)=>(l(),m("div",b,[p("div",q,[f(u,{onOk:i,"qq-redirect-path":g(r)},null,8,["qq-redirect-path"])])]))}});export{M as default};

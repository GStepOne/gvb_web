import{G as j}from"./gvb_title-CvlGbHV1.js";import{g as h}from"./gvb_help-DX1E1483.js";import{d as y,k as T,r as _,a as r,o as k,c as U,g as n,b as e,w as o,j as c,ar as C,M as i,as as I}from"./index-BUgfj_ir.js";import{_ as q}from"./_plugin-vue_export-helper-DlAUqK2U.js";const B={class:"jwt_config"},J={class:"left"},N={class:"site_info"},A={class:"config_update"},G={class:"right"},M=y({__name:"jwt_config",setup(R){const s=T({secret:"",expires:0,issuer:""});async function m(){let a=await C("jwt");if(a.code){i.error(a.msg);return}Object.assign(s,a.data)}m();const p=_(),f=_("JWT登录帮助");async function g(){let a=await p.value.validate();if(a){i.error(a.msg);return}let t=await I("jwt",s);if(t.code){i.error(t.msg);return}i.success(t.msg)}const b=[{title:"秘钥",abs:"用于jwt的加解密，请妥善保管",content:""}];return(a,t)=>{const v=r("a-alert"),u=r("a-input"),d=r("a-form-item"),w=r("a-input-number"),x=r("a-form"),V=r("a-button");return k(),U("div",B,[n("div",J,[n("div",N,[e(j,{title:"JWT登录配置"}),e(v,{style:{"margin-top":"10px"}},{default:o(()=>[c("配置jwt登录之后，可以用jwt登录本系统")]),_:1}),e(x,{ref_key:"formRef",ref:p,model:s,"label-col-props":{span:6},"wrapper-col-props":{span:18}},{default:o(()=>[e(d,{field:"secret",label:"Jwt秘钥",rules:[{required:!0,message:"请输入secret"}],"validate-trigger":["blur"]},{default:o(()=>[e(u,{modelValue:s.secret,"onUpdate:modelValue":t[0]||(t[0]=l=>s.secret=l),placeholder:"secret"},null,8,["modelValue"])]),_:1}),e(d,{field:"expires",label:"过期时间",rules:[{required:!0,message:"请输入expires"}],"validate-trigger":["blur"]},{extra:o(()=>[c("时间单位是小时")]),default:o(()=>[e(w,{modelValue:s.expires,"onUpdate:modelValue":t[1]||(t[1]=l=>s.expires=l),placeholder:"过期时间"},null,8,["modelValue"])]),_:1}),e(d,{field:"issuer",label:"发行人",rules:[{required:!0,message:"请输入发行人"}],"validate-trigger":["blur"]},{default:o(()=>[e(u,{modelValue:s.issuer,"onUpdate:modelValue":t[2]||(t[2]=l=>s.issuer=l),placeholder:"发行人"},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),n("div",A,[e(V,{type:"primary",onClick:g},{default:o(()=>[c("更新")]),_:1})])])]),n("div",G,[e(h,{data:b,helpTitle:f.value},null,8,["helpTitle"])])])}}}),O=q(M,[["__scopeId","data-v-bebb5997"]]);export{O as default};

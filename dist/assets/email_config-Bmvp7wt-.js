import{G as k}from"./gvb_title-CvlGbHV1.js";import{g as y}from"./gvb_help-DX1E1483.js";import{d as q,k as x,r as c,a as n,o as C,c as I,g as d,b as e,w as s,j as m,ar as T,M as u,as as z}from"./index-BUgfj_ir.js";/* empty css                                                                         */import{_ as B}from"./_plugin-vue_export-helper-DlAUqK2U.js";const N={class:"site_config"},j={class:"left"},A={class:"site_info"},G={class:"config_update"},M={class:"right"},R=q({__name:"email_config",setup(D){const t=x({host:"",port:0,user:"",password:"",default_from_email:"",use_ssl:!0,use_tls:!1}),g=c("邮箱帮助");async function b(){let o=await T("email");if(o.code){u.error(o.msg);return}Object.assign(t,o.data)}b();const p=c();async function V(){let o=await p.value.validate();if(o){u.error(o.msg);return}let l=await z("email",t);if(l.code){u.error(l.msg);return}u.success(l.msg)}const v=[{title:"邮箱域名，邮箱端口",abs:"每个邮件服务的smtp域名和端口都不一样，请自己检查",content:`
  参考链接：<a href="https://image.fengfengzhidao.com/pic/20230930160112.png" target="_blank">https://image.fengfengzhidao.com/pic/20230930160112.png</a>
  `},{title:"发信邮箱与密码",abs:"密码不一定是你的邮箱登录密码",content:'<a-image imageUrl="https://image.fengfengzhidao.com/pic/20230930160112.png"/></a-image>'},{title:"发信人",abs:"发给用户的邮件上，显示的名称",content:""},{title:"ssl",abs:"启用了ssl，端口号可能要调整",content:""}];return(o,l)=>{const h=n("a-alert"),i=n("a-input"),r=n("a-form-item"),w=n("a-input-number"),_=n("a-switch"),U=n("a-form"),f=n("a-button");return C(),I("div",N,[d("div",j,[d("div",A,[e(k,{title:"邮箱配置"}),e(h,null,{default:s(()=>[m("配置邮箱之后，系统将会通知到你的邮箱，不配置则不通知")]),_:1}),e(U,{ref_key:"formRef",ref:p,model:t,"label-col-props":{span:5},"wrapper-col-props":{span:16}},{default:s(()=>[e(r,{field:"host",label:"邮箱域名",rules:[{required:!0,message:"邮箱域名"}],"validate-trigger":["blur"]},{default:s(()=>[e(i,{modelValue:t.host,"onUpdate:modelValue":l[0]||(l[0]=a=>t.host=a),placeholder:"邮箱域名"},null,8,["modelValue"])]),_:1}),e(r,{field:"port",label:"邮箱端口",rules:[{required:!0,message:"邮箱端口"}],"validate-trigger":["blur"]},{default:s(()=>[e(w,{modelValue:t.port,"onUpdate:modelValue":l[1]||(l[1]=a=>t.port=a),placeholder:"邮箱端口"},null,8,["modelValue"])]),_:1}),e(r,{field:"default_from_email",label:"发信邮箱",rules:[{required:!0,message:"请输入发信邮箱"}],"validate-trigger":["blur"]},{default:s(()=>[e(i,{modelValue:t.default_from_email,"onUpdate:modelValue":l[2]||(l[2]=a=>t.default_from_email=a),placeholder:"发信邮箱"},null,8,["modelValue"])]),_:1}),e(r,{field:"password",label:"密码",rules:[{required:!0,message:"请输入密码"}],"validate-trigger":["blur"]},{default:s(()=>[e(i,{modelValue:t.password,"onUpdate:modelValue":l[3]||(l[3]=a=>t.password=a),type:"password",placeholder:"密码"},null,8,["modelValue"])]),_:1}),e(r,{field:"default_from_email",label:"发信人",rules:[{required:!0,message:"发信人"}],"validate-trigger":["blur"]},{default:s(()=>[e(i,{modelValue:t.default_from_email,"onUpdate:modelValue":l[4]||(l[4]=a=>t.default_from_email=a),placeholder:"默认发信人"},null,8,["modelValue"])]),_:1}),e(r,{field:"use_ssl",label:"use_ssl"},{default:s(()=>[e(_,{modelValue:t.use_ssl,"onUpdate:modelValue":l[5]||(l[5]=a=>t.use_ssl=a)},null,8,["modelValue"])]),_:1}),e(r,{field:"use_tls",label:"use_tls"},{default:s(()=>[e(_,{modelValue:t.use_tls,"onUpdate:modelValue":l[6]||(l[6]=a=>t.use_tls=a)},null,8,["modelValue"])]),_:1})]),_:1},8,["model"]),d("div",G,[e(f,{status:"success"},{default:s(()=>[m(" 测试链接 ")]),_:1}),e(f,{type:"primary",onClick:V},{default:s(()=>[m("更新")]),_:1})])])]),d("div",M,[e(y,{data:v,helpTitle:g.value},null,8,["helpTitle"])])])}}}),J=B(R,[["__scopeId","data-v-34d639fe"]]);export{J as default};

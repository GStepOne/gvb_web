import{_ as d}from"./gvb_login_form.vue_vue_type_style_index_0_lang-DM1JnBeN.js";import{d as u,u as _,o as m,c as f,g,b as p,h,s as k,v as q,M as o,Q as b}from"./index-BUgfj_ir.js";import"./index-DLNtBgUN.js";import"./index-D8ajxOCt.js";const w={class:"gvb_login"},v={class:"gvb_login_mask"},R=u({__name:"index",setup(x){const n=_(),r=k(),a=q(),c=window.history.state.back;async function i(e){if(e.code===void 0||e.flag!=="qq"){o.warning("建议您用qq登录");return}let t=await b(e.code);if(t.code){o.error(t.msg);return}else{o.success(t.msg),n.setToken(t.data),window.history.state.back;let s=localStorage.getItem("redirectPath");s===null&&(s="/nana"),a.push(s)}}i(r.query);function l(){let e=window.history.state.back;console.log("这个是ok的值",e),(e===null||e==="/")&&(e="/nana"),a.push(e)}return(e,t)=>(m(),f("div",w,[g("div",v,[p(d,{onOk:l,"qq-redirect-path":h(c)},null,8,["qq-redirect-path"])])]))}});export{R as default};

import{d as V,u as h,r as k,n as l,a as s,o as n,c as x,g as S,b as c,f as b,q as B,M as r}from"./index-BUgfj_ir.js";/* empty css                                                                         */import{_ as y}from"./_plugin-vue_export-helper-DlAUqK2U.js";const C={class:"gvb_upload_image"},N={class:"line"},w=V({__name:"gvb_upload_image",props:{modelValue:{type:String},placeholder:{type:String,default:"图片链接"}},emits:["update:modelValue"],setup(u,{emit:p}){const d={token:h().userInfo.token},a=u,m=p,e=k("");l(()=>a.modelValue,()=>{e.value=a.modelValue});function i(t){const o=t.response;if(o.code){r.error(o.msg);return}r.success(o.msg),e.value="/"+o.data,console.log("我上传成功了",e.value)}return l(e,()=>{m("update:modelValue",e.value)}),(t,o)=>{const _=s("a-input"),g=s("a-upload"),v=s("a-image");return n(),x("div",C,[S("div",N,[c(_,{placeholder:a.placeholder,modelValue:e.value,"onUpdate:modelValue":o[0]||(o[0]=f=>e.value=f)},null,8,["placeholder","modelValue"]),c(g,{name:"image",onSuccess:i,"show-file-list":!1,action:"/api/image",headers:d})]),e.value?(n(),b(v,{key:0,src:e.value,height:"80px"},null,8,["src"])):B("",!0)])}}}),q=y(w,[["__scopeId","data-v-530d8428"]]);export{q as G};

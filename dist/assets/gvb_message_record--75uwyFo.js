import{d as p,u as g,r as e,n as v,o as R,f as h,w as C,b as w,h as x,O as y,G as B,H as D,J as G}from"./index-BUgfj_ir.js";import{_ as M}from"./gvb_message_record.vue_vue_type_style_index_0_lang-ChVal51A.js";import{_ as U}from"./_plugin-vue_export-helper-DlAUqK2U.js";const A=p({__name:"gvb_message_record_modal",props:{visible:{type:Boolean},userId:{},nickname:{}},emits:["update:visible","close"],setup(n,{expose:t,emit:r}){const c=g(),o=e(0),i=e(0),s=n;v(()=>s.userId,()=>{s.userId!==0&&(i.value=s.userId,o.value=c.userInfo.userId)});const l=r;function b(){l("update:visible",!1),l("close")}const u=e("聊天");v(()=>s.nickname,()=>{u.value="与"+s.nickname+"聊天"});const m=e();function I(){y(()=>{m.value.getRecordData()})}return t({getData:I}),(k,H)=>(R(),h(x(B),{title:u.value,width:"40%",visible:s.visible,footer:!1,onCancel:b,"body-class":"gvb_message_record_modal_body"},{default:C(()=>[w(M,{userId:s.userId,rev_user_id:i.value,send_user_id:o.value,nickname:k.nickname,ref_key:"messageRecordRef",ref:m},null,8,["userId","rev_user_id","send_user_id","nickname"])]),_:1},8,["title","visible"]))}}),E=U(A,[["__scopeId","data-v-81d66c9b"]]),a=e(void 0),d=e(0),_=e(""),f=e();function S(n,t){if(a.value===void 0){const r=p({setup(){return{visible:a,onClose:()=>{a.value=!1},userIdRef:d,nicknameRef:_}},render(){return G(E,{visible:a.value,nickname:this.nicknameRef,userId:this.userIdRef,onClose:this.onClose,ref:f})}}),c=D(r),o=document.createElement("div");c.mount(o),document.body.appendChild(o)}n==d.value&&f.value.getData(),a.value=!0,d.value=n,_.value=t}export{E as G,S as s};
